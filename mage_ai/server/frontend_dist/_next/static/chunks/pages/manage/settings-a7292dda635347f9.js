(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3512],{17717:function(e,t,n){var r=n(554);!function(){"use strict";var t={977:function(e){function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,u=0,c=0;c<=e.length;++c){if(c<e.length)n=e.charCodeAt(c);else{if(47===n)break;n=47}if(47===n){if(o===c-1||1===u);else if(o!==c-1&&2===u){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=c,u=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=c,u=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,c):r=e.slice(o+1,c),i=c-o-1;o=c,u=0}else 46===n&&-1!==u?++u:u=-1}return r}var i={resolve:function(){for(var e,i="",o=!1,u=arguments.length-1;u>=-1&&!o;u--){var c;u>=0?c=arguments[u]:(void 0===e&&(e=r.cwd()),c=e),t(c),0!==c.length&&(i=c+"/"+i,o=47===c.charCodeAt(0))}return i=n(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];t(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":i.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=i.resolve(e))===(n=i.resolve(n)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var o=e.length,u=o-r,c=1;c<n.length&&47===n.charCodeAt(c);++c);for(var l=n.length-c,a=u<l?u:l,s=-1,f=0;f<=a;++f){if(f===a){if(l>a){if(47===n.charCodeAt(c+f))return n.slice(c+f+1);if(0===f)return n.slice(c+f)}else u>a&&(47===e.charCodeAt(r+f)?s=f:0===f&&(s=0));break}var d=e.charCodeAt(r+f);if(d!==n.charCodeAt(c+f))break;47===d&&(s=f)}var v="";for(f=r+s+1;f<=o;++f)f!==o&&47!==e.charCodeAt(f)||(0===v.length?v+="..":v+="/..");return v.length>0?v+n.slice(c+s):(c+=s,47===n.charCodeAt(c)&&++c,n.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,u=e.length-1;u>=1;--u)if(47===(n=e.charCodeAt(u))){if(!o){i=u;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,u=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,l=-1;for(r=e.length-1;r>=0;--r){var a=e.charCodeAt(r);if(47===a){if(!u){i=r+1;break}}else-1===l&&(u=!1,l=r+1),c>=0&&(a===n.charCodeAt(c)?-1===--c&&(o=r):(c=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!u){i=r+1;break}}else-1===o&&(u=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,u=0,c=e.length-1;c>=0;--c){var l=e.charCodeAt(c);if(47!==l)-1===i&&(o=!1,i=c+1),46===l?-1===n?n=c:1!==u&&(u=1):-1!==n&&(u=-1);else if(!o){r=c+1;break}}return-1===n||-1===i||0===u||1===u&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var u=-1,c=0,l=-1,a=!0,s=e.length-1,f=0;s>=r;--s)if(47!==(i=e.charCodeAt(s)))-1===l&&(a=!1,l=s+1),46===i?-1===u?u=s:1!==f&&(f=1):-1!==u&&(f=-1);else if(!a){c=s+1;break}return-1===u||-1===l||0===f||1===f&&u===l-1&&u===c+1?-1!==l&&(n.base=n.name=0===c&&o?e.slice(1,l):e.slice(c,l)):(0===c&&o?(n.name=e.slice(1,u),n.base=e.slice(1,l)):(n.name=e.slice(c,u),n.base=e.slice(c,l)),n.ext=e.slice(u,l)),c>0?n.dir=e.slice(0,c-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},u=!0;try{t[e](o,o.exports,i),u=!1}finally{u&&delete n[e]}return o.exports}i.ab="//";var o=i(977);e.exports=o}()},44152:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var r=n(82684);const i=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o};var o=n(81550);const{useSyncExternalStoreWithSelector:u}=o;const c=e=>{const t="function"===typeof e?(e=>e?i(e):i)(e):e,n=(e,n)=>function(e,t=e.getState,n){const i=u(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,r.useDebugValue)(i),i}(t,e,n);return Object.assign(n,t),n};var l=e=>e?c(e):c;const a=e=>{const t=l((()=>e)),n=(Object.keys(e),(e,n)=>{t.setState((t=>{return{[e]:(r=t[e],i=n,"function"==typeof i?i(r):i)};var r,i}))});return{useGlobalState:e=>{const i=(0,r.useCallback)((t=>t[e]),[e]);return[t(i),(0,r.useCallback)((t=>n(e,t)),[e])]},getGlobalState:e=>t.getState()[e],setGlobalState:n,subscribe:(e,n)=>{t.subscribe(((t,r)=>{t[e]!==r[e]&&n(t[e])}))}}}},1589:function(e,t,n){"use strict";var r=n(82684);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,u=r.useEffect,c=r.useLayoutEffect,l=r.useDebugValue;function a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return c((function(){i.value=n,i.getSnapshot=t,a(i)&&s({inst:i})}),[e,n,t]),u((function(){return a(i)&&s({inst:i}),e((function(){a(i)&&s({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},73847:function(e,t,n){"use strict";var r=n(82684),i=n(48216);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},u=i.useSyncExternalStore,c=r.useRef,l=r.useEffect,a=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=c(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=a((function(){function e(e){if(!l){if(l=!0,u=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return c=t}return c=e}if(t=c,o(u,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(u=e,c=n)}var u,c,l=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]}),[t,n,r,i]);var v=u(e,f[0],f[1]);return l((function(){d.hasValue=!0,d.value=v}),[v]),s(v),v}},48216:function(e,t,n){"use strict";e.exports=n(1589)},81550:function(e,t,n){"use strict";e.exports=n(73847)},1210:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(82394),i=n(21831),o=n(82684),u=n(47999),c=n(49894),l=n(93461),a=n(57384),s=n(41424),f=n(72454),d=n(28598);function v(e,t){var n=e.children;return(0,d.jsx)(f.HS,{ref:t,children:n})}var p=o.forwardRef(v),h=n(32063),g=n(85019),b=n(82531),m=n(66166),S=n(3055),y=n(49125),O=n(91427),j=n(24141);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t,n=e.addProjectBreadcrumbToCustomBreadcrumbs,r=e.after,v=e.afterHidden,w=e.afterWidth,A=e.afterWidthOverride,P=e.before,x=e.beforeWidth,k=e.breadcrumbs,T=e.children,C=e.errors,Z=e.headerMenuItems,_=e.headerOffset,R=e.mainContainerHeader,L=e.navigationItems,D=e.setErrors,M=e.subheaderChildren,N=e.title,I=e.uuid,B=(0,j.i)().width,Y="dashboard_after_width_".concat(I),U="dashboard_before_width_".concat(I),W=(0,o.useRef)(null),V=(0,o.useState)(A?w:(0,O.U2)(Y,w)),H=V[0],F=V[1],Q=(0,o.useState)(!1),X=Q[0],G=Q[1],J=(0,o.useState)(P?Math.max((0,O.U2)(U,x),13*y.iI):null),$=J[0],K=J[1],q=(0,o.useState)(!1),z=q[0],ee=q[1],te=(0,o.useState)(null)[1],ne=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,re=null===ne||void 0===ne?void 0:ne.projects,ie={label:function(){var e;return null===re||void 0===re||null===(e=re[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},oe=[];k?(n&&oe.push(ie),oe.push.apply(oe,(0,i.Z)(k))):(null===re||void 0===re?void 0:re.length)>=1&&oe.push.apply(oe,[ie,{bold:!0,label:function(){return N}}]),(0,o.useEffect)((function(){null===W||void 0===W||!W.current||X||z||null===te||void 0===te||te(W.current.getBoundingClientRect().width)}),[X,H,z,$,W,te,B]),(0,o.useEffect)((function(){X||(0,O.t8)(Y,H)}),[v,X,H,Y]),(0,o.useEffect)((function(){z||(0,O.t8)(U,$)}),[z,$,U]);var ue=(0,m.Z)(w);return(0,o.useEffect)((function(){A&&ue!==w&&F(w)}),[A,w,ue]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a.Z,{title:N}),(0,d.jsx)(s.Z,{breadcrumbs:oe,menuItems:Z,project:null===re||void 0===re?void 0:re[0],version:null===re||void 0===re||null===(t=re[0])||void 0===t?void 0:t.version}),(0,d.jsxs)(f.Nk,{children:[0!==(null===L||void 0===L?void 0:L.length)&&(0,d.jsx)(f.lm,{showMore:!0,children:(0,d.jsx)(g.Z,{navigationItems:L,showMore:!0})}),(0,d.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,d.jsxs)(h.Z,{after:r,afterHeightOffset:S.Mz,afterHidden:v,afterMousedownActive:X,afterWidth:H,before:P,beforeHeightOffset:S.Mz,beforeMousedownActive:z,beforeWidth:f.k1+(P?$:0),headerOffset:_,hideAfterCompletely:!0,leftOffset:P?f.k1:null,mainContainerHeader:R,mainContainerRef:W,setAfterMousedownActive:G,setAfterWidth:F,setBeforeMousedownActive:ee,setBeforeWidth:K,children:[M&&(0,d.jsx)(p,{children:M}),T]})})]}),C&&(0,d.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,d.jsx)(c.Z,E(E({},C),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},32821:function(e,t,n){"use strict";n.d(t,{IO:function(){return d},V3:function(){return f},a9:function(){return c},jN:function(){return a},lr:function(){return s},u$:function(){return v}});var r=n(17717),i=n(86422),o=n(73828),u=n(90211);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t||(n?null:null===e||void 0===e?void 0:e.name);if(null!==e&&void 0!==e&&e.parent){var o=[e.parent.name];return(null===i||void 0===i?void 0:i.length)>=1&&o.push(i),c(e.parent,o.join(r.sep))}return i}function l(e){return null===e||void 0===e?void 0:e.split(r.sep).slice(1).join(r.sep)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c(e,t,n);return l(r)}function s(e){var t,n,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=c(e,l).split(r.sep);if(!s)return null;if(1===s.length)(s=null===e||void 0===e||null===(n=e.path)||void 0===n?void 0:n.split(r.sep))&&(t=s[0]===i.tf.CUSTOM?s[0]:(0,u.C5)(s[0]||""));else if(s[1]===i.tf.CUSTOM)t=s[1];else{var f=s[1];t=i.tf.DBT===f?f:(0,u.C5)(f||"")}if(!s||i.tf.DBT===t)return null;var d="";d=s.length>=3?s.slice(2,s.length).join(r.sep):s[s.length-1];var v=["\\.".concat(o.Lu.PY),"\\.".concat(o.Lu.R),"\\.".concat(o.Lu.SQL),"\\.".concat(o.Lu.YAML),"\\.".concat(o.Lu.YML)].join("|"),p=new RegExp("".concat(v,"$")),h=a?i.Q3:i.$W;if(h.concat(i.tf.DBT).includes(t)&&d.match(p)){var g=d.lastIndexOf("."),b=d.slice(g+1);return{language:o.nB[b],type:t,uuid:d.slice(0,g)}}}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=c(e,t).split(r.sep);if(n[1]){var l=(0,u.C5)(n[t?0:1]);n[1]===i.tf.DBT&&(l=i.tf.DBT);var a=n[n.length-1],s=new RegExp(".".concat(o.Lu.YAML,"$")),f=new RegExp(".".concat(o.Lu.R,"$")),d=new RegExp(".".concat(o.Lu.SQL,"$")),v=new RegExp(".".concat(o.Lu.MD,"$"));if(a.match(s)&&i.VZ.includes(l))return{type:l,uuid:a.replace(s,"")};if(a.match(f)&&i.J8.includes(l))return{type:l,uuid:a.replace(f,"")};if(a.match(d)&&i.HX.includes(l)){var p=a.replace(/[.]/g,"_"),h=l===i.tf.DBT?n.slice(2,-1).join("_").concat("_".concat(p)):a.replace(d,"");return{type:l,uuid:h}}return a.match(v)&&l===i.tf.MARKDOWN?{type:l,uuid:a.replace(v,"")}:void 0}}function d(e,t){var n=e.split("."),i=n[n.length-1];o.n6.includes(i)&&n.pop();var u=n.join("").split(r.sep),c=u.slice(1,u.length).join("");return t.find((function(e){return e.uuid===c}))}function v(e){var t=e||{},n=t.language,r=t.name,c=t.type;if(r&&n&&c){var l=c===i.tf.CUSTOM?c:"".concat(c,"s"),a=o.JD[n],s=(0,u.kE)(r);return"".concat(l,"/").concat(s,".").concat(a)}}},91207:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(82394),i=n(75582),o=n(17717),u=n(82684),c=n(37958),l=n(83455),a=n(35490),s=n(86422),f=n(60328),d=n(85617),v=n(93461),p=n(67971),h=n(28598),g=d.default.div.withConfig({displayName:"ButtonGroup__ButtonGroupStyle",componentId:"sc-15vbmc8-0"})([""]),b=d.default.div.withConfig({displayName:"ButtonGroup__VerticalDivider",componentId:"sc-15vbmc8-1"})(["width:1px;"]),m=function(e){var t=e.children,n=e.divider,r=u.Children.toArray(t).length;return(0,h.jsx)(g,{children:(0,h.jsx)(p.ZP,{children:u.Children.map(t,(function(e,t){return e&&(0,h.jsxs)(v.Z,{children:[t>=1&&n&&(0,h.jsx)(b,{}),u.cloneElement(e,{borderRadiusLeft:r>=2&&0===t,borderRadiusRight:r>=2&&t===r-1,halfPaddingLeft:r>=2&&0!==t,halfPaddingRight:r>=2&&t!==r-1,noBorder:r>=2&&t>0&&t<r-1,noBorderRight:r>=2&&t!==r-1})]},"button-group-child-".concat(t))}))})})},S=n(57722),y=n(73828),O=n(11135),j=n(98781),w=n(86673),E=n(82531),A=n(16115),P=n(94353),x=n(60701),k=n(55512),T=n(24224),C=n(32821),Z=n(90211),_=n(96510),R=n(51504),L=n(41150);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=e.active,n=e.addNewBlock,d=e.disableRefreshWarning,v=e.fetchPipeline,g=e.fetchVariables,b=e.filePath,D=e.hideHeaderButtons,N=e.onContentChange,I=e.onUpdateFileSuccess,B=e.openSidekickView,Y=e.pipeline,U=e.saveFile,W=e.selectedFilePath,V=e.sendTerminalMessage,H=e.setDisableShortcuts,F=e.setErrors,Q=e.setFilesTouched,X=e.setSelectedBlock,G=(0,c.j)("apiReloads"),J=(0,i.Z)(G,2)[1],$=(0,u.useState)(null),K=$[0],q=$[1],z=(0,u.useState)(!1),ee=z[0],te=(z[1],(0,u.useRef)(null)),ne=(0,u.useMemo)((function(){return new a.Z}),[]),re=(0,u.useMemo)((function(){return{api_key:P.l,token:ne.decodedToken.token}}),[ne]),ie=E.ZP.statuses.list().data,oe=(0,u.useMemo)((function(){var e,t;return null===ie||void 0===ie||null===(e=ie.statuses)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.repo_path}),[ie]),ue=E.ZP.file_contents.detail(b).data;(0,u.useEffect)((function(){null!==ue&&void 0!==ue&&ue.file_content&&q(ue.file_content)}),[ue]);var ce=(0,u.useState)(null===K||void 0===K?void 0:K.content),le=ce[0],ae=ce[1],se=(0,u.useCallback)((function(e){ae(e),N&&(null===N||void 0===N||N(e))}),[N]),fe=(0,u.useState)(!1),de=fe[0],ve=fe[1];(0,u.useEffect)((function(){t&&H&&(null===H||void 0===H||H(!0))}),[t,H]),(0,u.useEffect)((function(){var e;W&&(null===te||void 0===te||null===(e=te.current)||void 0===e||e.scrollIntoView())}),[W]);var pe=(0,l.Db)(E.ZP.file_contents.useUpdate((null===K||void 0===K?void 0:K.path)&&encodeURIComponent(null===K||void 0===K?void 0:K.path)),{onSuccess:function(e){return(0,_.wD)(e,{callback:function(e){var t=e.file_content;J((function(e){return M(M({},e),{},(0,r.Z)({},"FileVersions/".concat(null===K||void 0===K?void 0:K.path),Number(new Date)))})),I&&(null===I||void 0===I||I(t))},onErrorCallback:function(e,t){return null===F||void 0===F?void 0:F({errors:t,response:e})}})}}),he=(0,i.Z)(pe,1)[0],ge=(0,u.useCallback)((function(e,t){if(U)return U(e,t);he({file_content:M(M({},t),{},{content:e})}).then((function(){decodeURIComponent(b).split(o.sep).pop()===y.dT.METADATA_YAML&&g&&(null===g||void 0===g||g())})),Q((function(e){return M(M({},e),{},(0,r.Z)({},null===t||void 0===t?void 0:t.path,!1))})),ve(!1)}),[g,b,U,Q,he]),be=(0,u.useMemo)((function(){return(0,k.lU)()}),[]),me=(0,u.useMemo)((function(){var e,t,n,r;return null===(null===K||void 0===K||null===(e=K.path)||void 0===e?void 0:e.match(be))?y.Lu.TXT:null===K||void 0===K||null===(t=K.path)||void 0===t||null===(n=t.match(be))||void 0===n||null===(r=n[0])||void 0===r?void 0:r.split(".")[1]}),[be,K]),Se=(0,u.useMemo)((function(){if(null!==K&&void 0!==K&&K.path)return(0,h.jsx)(S.Z,{autoHeight:!0,language:y.nB[me],onChange:function(e){se(e),Q((function(e){return M(M({},e),{},(0,r.Z)({},null===K||void 0===K?void 0:K.path,!0))})),ve(!0)},onSave:function(e){ge(e,K)},selected:!0,textareaFocused:!0,value:(0,Z.Pb)(null===K||void 0===K?void 0:K.content)?JSON.stringify(JSON.parse(null===K||void 0===K?void 0:K.content),null,2):null===K||void 0===K?void 0:K.content,width:"100%"})}),[K,me,ge,se,Q]),ye=null!==Y&&void 0!==Y&&Y.blocks?(0,T.sE)(null===Y||void 0===Y?void 0:Y.blocks,(function(e){var t=e.type;return s.tf.DATA_EXPORTER===t})):null,Oe=(0,l.Db)(E.ZP.blocks.pipelines.useUpdate(null===Y||void 0===Y?void 0:Y.uuid,null===ye||void 0===ye?void 0:ye.uuid),{onSuccess:function(e){return(0,_.wD)(e,{callback:function(){null===v||void 0===v||v()}})}}),je=(0,i.Z)(Oe,1)[0],we=n&&Y&&(me===y.Lu.PY||me===y.Lu.SQL||(me===y.Lu.YAML||me===y.Lu.R)&&(0,C.V3)(K,null===K||void 0===K?void 0:K.path))&&(0,k.ck)(K.path.split(o.sep))!==s.tf.SCRATCHPAD&&(0,C.lr)(K)&&(0,h.jsx)(f.Z,{onClick:function(){var e=(null===Y||void 0===Y?void 0:Y.type)===j.qL.INTEGRATION,t=(0,k.TU)(K,oe,Y);n(t,(function(t){e&&ye&&je({block:M(M({},ye),{},{upstream_blocks:[t.uuid]})}),null===X||void 0===X||X(t)}))},primary:!0,children:"Add to current pipeline"}),Ee=V&&(0,h.jsx)(w.Z,{m:2,children:(0,h.jsx)(O.ZP,{disabled:!oe,inline:!0,loading:ee,onClick:function(){null===B||void 0===B||B(x.cH.TERMINAL),null===V||void 0===V||V(JSON.stringify(M(M({},re),{},{command:["stdin","pip install -r ".concat(oe,"/requirements.txt\r")]})))},title:oe?"Pip install packages from your saved requirements.txt file (\u2318+S to save).":"Please use right panel terminal to install packages.",uuid:"FileEditor/InstallPackages",children:"Install packages"})}),Ae="FileEditor/".concat(null===K||void 0===K?void 0:K.path),Pe=(0,L.y)(),xe=Pe.registerOnKeyDown,ke=Pe.unregisterOnKeyDown;return(0,u.useEffect)((function(){return function(){ke(Ae)}}),[ke,Ae]),xe(Ae,(function(e,n){if(t&&!d)if((0,R.y)([A.zX,A.Um],n)||(0,R.y)([A.PQ,A.Um],n))e.preventDefault(),ge(le,K);else if(de&&(0,R.y)([A.zX,A.hS],n)){e.preventDefault();var r="".concat(K.path," has changes that are unsaved. ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[t,le,d,K,ge,de]),(0,h.jsxs)("div",{ref:te,children:[!D&&(0,h.jsx)(w.Z,{p:2,children:(0,h.jsxs)(p.ZP,{justifyContent:"space-between",children:[(0,h.jsxs)(m,{children:[we,(0,h.jsx)(f.Z,{disabled:!le,onClick:function(e){e.preventDefault(),ge(le,K)},title:le?null:"No changes have been made to this file.",children:"Save file content"})]}),B&&(0,h.jsx)(m,{children:(0,h.jsx)(f.Z,{compact:!0,onClick:function(){B(x.cH.FILE_VERSIONS)},small:!0,title:"View previous changes to this file.",children:"Show versions"})})]})}),Se,b===y.dT.REQS_TXT&&Ee]})}},55512:function(e,t,n){"use strict";n.d(t,{TU:function(){return d},ck:function(){return s},lU:function(){return f}});var r=n(21831),i=n(17717),o=n(86422),u=n(98781),c=n(73828),l=n(24224),a=n(90211),s=function(e){var t=e[0];return t===o.tf.DBT||t===o.tf.CUSTOM?t:e[0].slice(0,-1)};function f(){return new RegExp(Object.keys(c.nB).map((function(e){return".(".concat(e,")$")})).join("|"))}function d(e,t,n){var d,v,p=null===e||void 0===e||null===(d=e.path.match(f())[0])||void 0===d?void 0:d.split(".")[1],h=n.type===u.qL.INTEGRATION,g=(0,l.sE)(null===n||void 0===n?void 0:n.blocks,(function(e){var t=e.type;return o.tf.DATA_EXPORTER===t})),b=e.path.replace(t,"").split(i.sep),m=e.path.split(i.sep)[0]===o.tf.DBT,S=(v=b)[0]===o.tf.DBT?v.slice(1).join(i.sep):function(e){return e.at(-1)}(v).split(".")[0];if(b.length>=3&&!m){var y=b.slice(1,b.length-1).join(i.sep);S="".concat(y,"/").concat(S)}var O=s(e.path.split(i.sep)),j={configuration:{file_path:m?S:null},language:c.nB[p],name:(0,a.wE)(S),type:O};if(O===o.tf.CUSTOM&&(j.color=o.Lq.TEAL),h){var w=(0,l.sE)(n.blocks,(function(e){var t=e.type;return o.tf.DATA_LOADER===t})),E=(0,l.sE)(n.blocks,(function(e){var t=e.type;return o.tf.TRANSFORMER===t})),A=[];E?A.push(E.uuid):null!==g&&void 0!==g&&g.upstream_blocks?A.push.apply(A,(0,r.Z)(g.upstream_blocks)):w&&A.push(w.uuid),j.upstream_blocks=A}return j}},84392:function(e,t,n){"use strict";n.d(t,{HF:function(){return u},L6:function(){return r}});var r,i=n(46336),o=n(22341);function u(e,t,n){var u=e.owner,c=(e.roles,[{Icon:o.Vz,id:r.WORKSPACES,isSelected:function(){return r.WORKSPACES===n},label:function(){return"Workspaces"},linkProps:{href:"/manage"}}]);return u&&c.push({Icon:o.NO,id:r.USERS,isSelected:function(){return r.USERS===n},label:function(){return"Users"},linkProps:{href:"/manage/users"}}),t==i.k.MAIN&&c.push({Icon:o.Zr,id:r.SETTINGS,isSelected:function(){return r.SETTINGS===n},label:function(){return"Settings"},linkProps:{href:"/manage/settings"}}),c}!function(e){e.WORKSPACES="workspaces",e.USERS="users",e.SETTINGS="settings"}(r||(r={}))},3849:function(e,t,n){"use strict";var r=n(82684),i=n(1210),o=n(82531),u=n(49125),c=n(84392),l=n(9736),a=n(28598);t.Z=function(e){var t=e.before,n=e.breadcrumbs,s=void 0===n?[]:n,f=e.children,d=e.errors,v=e.pageName,p=e.subheaderChildren,h=o.ZP.statuses.list().data,g=(0,r.useMemo)((function(){var e,t;return null===h||void 0===h||null===(e=h.statuses)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.project_type}),[h]),b=(0,l.PR)()||{};return(0,a.jsx)(i.Z,{before:t,beforeWidth:t?50*u.iI:0,breadcrumbs:s,errors:d,navigationItems:(0,c.HF)(b,g,v),subheaderChildren:p,title:"Workspaces",uuid:"workspaces/index",children:f})}},73828:function(e,t,n){"use strict";n.d(t,{JD:function(){return h},Lu:function(){return o},PF:function(){return d},dT:function(){return u},n6:function(){return a},nB:function(){return p},oy:function(){return v},xF:function(){return f}});var r,i,o,u,c=n(82394),l=n(86422);!function(e){e.CSV="csv",e.JSON="json",e.MD="md",e.PY="py",e.R="r",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(o||(o={})),function(e){e.INIT_PY="__init__.py",e.METADATA_YAML="metadata.yaml",e.REQS_TXT="requirements.txt"}(u||(u={}));var a=[o.PY,o.SQL],s=[o.JSON,o.MD,o.PY,o.R,o.SQL,o.TXT,o.YAML,o.YML],f=new RegExp(s.map((function(e){return".".concat(e,"$")})).join("|")),d=(new RegExp(s.map((function(e){return".".concat(e,"$")})).join("|")),"charts"),v="pipelines",p=(r={},(0,c.Z)(r,o.MD,l.t6.MARKDOWN),(0,c.Z)(r,o.JSON,o.JSON),(0,c.Z)(r,o.PY,l.t6.PYTHON),(0,c.Z)(r,o.R,l.t6.R),(0,c.Z)(r,o.SQL,l.t6.SQL),(0,c.Z)(r,o.TXT,"text"),(0,c.Z)(r,o.YAML,l.t6.YAML),(0,c.Z)(r,o.YML,l.t6.YAML),r),h=(i={},(0,c.Z)(i,l.t6.MARKDOWN,o.MD),(0,c.Z)(i,l.t6.PYTHON,o.PY),(0,c.Z)(i,l.t6.R,o.R),(0,c.Z)(i,l.t6.SQL,o.SQL),(0,c.Z)(i,l.t6.YAML,o.YAML),(0,c.Z)(i,"text",o.TXT),i)},46336:function(e,t,n){"use strict";var r,i;n.d(t,{d:function(){return r},k:function(){return i}}),function(e){e.ADD_NEW_BLOCK_V2="add_new_block_v2"}(r||(r={})),function(e){e.MAIN="main",e.STANDALONE="standalone",e.SUB="sub"}(i||(i={}))},3938:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(38860),o=n.n(i),u=n(82684),c=n(91207),l=n(41788),a=n(3849),s=n(84392),f=n(28598);function d(){var e=(0,u.useState)(null),t=e[0];e[1];return(0,f.jsx)(a.Z,{breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"Settings"}}],errors:t,pageName:s.L6.SETTINGS,children:(0,f.jsx)(c.Z,{active:!0,filePath:"metadata.yaml",selectedFilePath:"metadata.yaml",setFilesTouched:function(){return null}})})}d.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,l.Z)(d)},37958:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=(0,n(44152).r)({apiReloads:{}}).useGlobalState},33766:function(e,t,n){"use strict";n.d(t,{O2:function(){return f},g_:function(){return v},u7:function(){return d}});var r=n(75582),i=n(82394),o=n(34376),u=n.n(o),c=n(59e3),l=n(24224);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f="_offset";function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preserveParams,i=t.pushHistory,o=t.replaceParams,l=(0,c.iV)(),a={};n&&n.forEach((function(e){l[e]&&(a[e]=l[e])}));var f,d=o?a:l;f=window.location.pathname;var v=i?u().push:u().replace,p=s(s({},d),e);Object.entries(e).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];"undefined"!==typeof i&&null!==i||delete p[n]}));var h=(0,c.uM)(p);h.length>=1&&(h="?".concat(h));var g="".concat(f.split("?")[0]).concat(h),b=u().router.basePath;return b&&g.startsWith(b)&&(g=g.replace(b,"")),v(u().router.pathname,g,{shallow:!0})}function v(e,t,n){var i=n.addingMultipleValues,o=n.isList,u=n.itemsPerPage,c=n.pushHistory,a=void 0!==c&&c,v=n.resetLimitParams,p=s({},e);i?Object.entries(t).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1];if(Array.isArray(i)){var o="".concat(n,"[]");p[o]=i.map(String)}})):o?Object.entries(t).forEach((function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1],o=String(i),u="".concat(n,"[]"),c=p[u];c&&Array.isArray(c)?(c=c.map(String)).includes(o)?p[u]=(0,l.Od)(c,(function(e){return e===o})):p[u]=c.concat(o):p[u]=[o]})):p=s(s({},p),t),v&&(p._limit=u||20,p[f]=0),d(p,{pushHistory:a})}},1116:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/settings",function(){return n(3938)}])}},function(e){e.O(0,[844,9902,6639,1424,1005,5704,7722,9774,2888,179],(function(){return t=1116,e(e.s=t);var t}));var t=e.O();_N_E=t}]);